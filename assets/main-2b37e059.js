import{b as d}from"./init-e2054226.js";const t=[{id:1,question:"Quand est mort Gustave Eiffel ?",answers:[{id:1,answer:"1923"},{id:2,answer:"1948"},{id:3,answer:"1908"}].sort(()=>Math.random()-.5),rightAnswer:1},{id:2,question:"Quelle est la capitale de la France ?",answers:[{id:1,answer:"Paris"},{id:2,answer:"Lyon"},{id:3,answer:"Marseille"}].sort(()=>Math.random()-.5),rightAnswer:1},{id:3,question:"Qui a peint la Joconde ?",answers:[{id:1,answer:"Leonardo da Vinci"},{id:2,answer:"Michel-Ange"},{id:3,answer:"Raphaël"}].sort(()=>Math.random()-.5),rightAnswer:1},{id:4,question:"Quand a été fondé Google ?",answers:[{id:1,answer:"1998"},{id:2,answer:"2001"},{id:3,answer:"2005"}].sort(()=>Math.random()-.5),rightAnswer:1},{id:5,question:"Combien de continents y a-t-il sur Terre ?",answers:[{id:1,answer:"7"},{id:2,answer:"5"},{id:3,answer:"6"}].sort(()=>Math.random()-.5),rightAnswer:1},{id:6,question:"Quelle est la couleur du ciel par temps clair ?",answers:[{id:1,answer:"Bleu"},{id:2,answer:"Rouge"},{id:3,answer:"Vert"}].sort(()=>Math.random()-.5),rightAnswer:1},{id:7,question:"Quel est le symbole chimique du sodium ?",answers:[{id:1,answer:"Na"},{id:2,answer:"So"},{id:3,answer:"No"}].sort(()=>Math.random()-.5),rightAnswer:1},{id:8,question:"Qui a écrit 'Les Misérables' ?",answers:[{id:1,answer:"Victor Hugo"},{id:2,answer:"Emile Zola"},{id:3,answer:"Gustave Flaubert"}].sort(()=>Math.random()-.5),rightAnswer:1},{id:9,question:"Combien de côtés a un hexagone ?",answers:[{id:1,answer:"6"},{id:2,answer:"5"},{id:3,answer:"7"}].sort(()=>Math.random()-.5),rightAnswer:1},{id:10,question:"Qui a découvert la pénicilline ?",answers:[{id:1,answer:"Alexander Fleming"},{id:2,answer:"Louis Pasteur"},{id:3,answer:"Marie Curie"}].sort(()=>Math.random()-.5),rightAnswer:1},{id:11,question:"Quelle est la planète la plus proche du Soleil ?",answers:[{id:1,answer:"Mercure"},{id:2,answer:"Vénus"},{id:3,answer:"Terre"}].sort(()=>Math.random()-.5),rightAnswer:1},{id:12,question:"Qui a écrit 'Hamlet' ?",answers:[{id:1,answer:"William Shakespeare"},{id:2,answer:"Charles Dickens"},{id:3,answer:"Jane Austen"}].sort(()=>Math.random()-.5),rightAnswer:1},{id:13,question:"Quelle est la langue la plus parlée dans le monde ?",answers:[{id:1,answer:"Chinois"},{id:2,answer:"Anglais"},{id:3,answer:"Espagnol"}].sort(()=>Math.random()-.5),rightAnswer:1},{id:14,question:"Qui a découvert la théorie de la relativité restreinte ?",answers:[{id:1,answer:"Albert Einstein"},{id:2,answer:"Isaac Newton"},{id:3,answer:"Galilée"}].sort(()=>Math.random()-.5),rightAnswer:1},{id:15,question:"Quel est le plus grand océan de la Terre ?",answers:[{id:1,answer:"Océan Pacifique"},{id:2,answer:"Océan Atlantique"},{id:3,answer:"Océan Indien"}].sort(()=>Math.random()-.5),rightAnswer:1},{id:16,question:"Quelle est la monnaie du Japon ?",answers:[{id:1,answer:"Yen"},{id:2,answer:"Euro"},{id:3,answer:"Dollar"}].sort(()=>Math.random()-.5),rightAnswer:1},{id:17,question:"Quel est le plus haut sommet du monde ?",answers:[{id:1,answer:"Mont Everest"},{id:2,answer:"K2"},{id:3,answer:"Mont Kilimandjaro"}].sort(()=>Math.random()-.5),rightAnswer:1},{id:18,question:"Qui a écrit 'Le Petit Prince' ?",answers:[{id:1,answer:"Antoine de Saint-Exupéry"},{id:2,answer:"Jules Verne"},{id:3,answer:"Victor Hugo"}].sort(()=>Math.random()-.5),rightAnswer:1},{id:19,question:"Quel est le plus grand désert du monde ?",answers:[{id:1,answer:"Antarctique"},{id:2,answer:"Sahara"},{id:3,answer:"Gobi"}].sort(()=>Math.random()-.5),rightAnswer:1},{id:20,question:"Qui a inventé la machine à vapeur ?",answers:[{id:1,answer:"James Watt"},{id:2,answer:"Thomas Edison"},{id:3,answer:"Alexander Graham Bell"}].sort(()=>Math.random()-.5),rightAnswer:1},{id:21,question:"Quelle est la langue officielle du Brésil ?",answers:[{id:1,answer:"Portugais"},{id:2,answer:"Espagnol"},{id:3,answer:"Anglais"}].sort(()=>Math.random()-.5),rightAnswer:1},{id:22,question:"Quel est le plus grand pays du monde en superficie ?",answers:[{id:1,answer:"Russie"},{id:2,answer:"Canada"},{id:3,answer:"Chine"}].sort(()=>Math.random()-.5),rightAnswer:1},{id:23,question:"Quelle est la couleur du drapeau japonais ?",answers:[{id:1,answer:"Rouge et blanc"},{id:2,answer:"Vert et blanc"},{id:3,answer:"Bleu et blanc"}].sort(()=>Math.random()-.5),rightAnswer:1},{id:24,question:"Quel est le plus grand lac d'eau douce du monde ?",answers:[{id:1,answer:"lac Supérieur"},{id:2,answer:"lac Michigan"},{id:3,answer:"lac Baïkal"}].sort(()=>Math.random()-.5),rightAnswer:1},{id:25,question:"Quelle est la capitale du Canada ?",answers:[{id:1,answer:"Ottawa"},{id:2,answer:"Toronto"},{id:3,answer:"Vancouver"}].sort(()=>Math.random()-.5),rightAnswer:1},{id:26,question:"Quel est le symbole chimique de l'oxygène ?",answers:[{id:1,answer:"O"},{id:2,answer:"Ox"},{id:3,answer:"Om"}].sort(()=>Math.random()-.5),rightAnswer:1},{id:27,question:"Qui a inventé l'ampoule électrique ?",answers:[{id:1,answer:"Thomas Edison"},{id:2,answer:"Nikola Tesla"},{id:3,answer:"Benjamin Franklin"}].sort(()=>Math.random()-.5),rightAnswer:1},{id:28,question:"Quel est le plus long fleuve du monde ?",answers:[{id:1,answer:"le Nil"},{id:2,answer:"l'Amazone"},{id:3,answer:"le Mississippi"}].sort(()=>Math.random()-.5),rightAnswer:1},{id:29,question:"Quel est le symbole chimique du fer ?",answers:[{id:1,answer:"Fe"},{id:2,answer:"Fr"},{id:3,answer:"Fl"}].sort(()=>Math.random()-.5),rightAnswer:1},{id:30,question:"Combien de joueurs composent une équipe de football ?",answers:[{id:1,answer:"11"},{id:2,answer:"10"},{id:3,answer:"12"}].sort(()=>Math.random()-.5),rightAnswer:1},{id:31,question:"Quel est le plus grand animal terrestre ?",answers:[{id:1,answer:"l'éléphant d'Afrique"},{id:2,answer:"le rhinocéros blanc"},{id:3,answer:"le girafe"}].sort(()=>Math.random()-.5),rightAnswer:1},{id:32,question:"Qui a peint 'La Nuit étoilée' ?",answers:[{id:1,answer:"Vincent van Gogh"},{id:2,answer:"Pablo Picasso"},{id:3,answer:"Leonardo da Vinci"}].sort(()=>Math.random()-.5),rightAnswer:1},{id:33,question:"Quelle est la capitale de l'Espagne ?",answers:[{id:1,answer:"Madrid"},{id:2,answer:"Barcelone"},{id:3,answer:"Séville"}].sort(()=>Math.random()-.5),rightAnswer:1},{id:34,question:"Qui a fondé Microsoft ?",answers:[{id:1,answer:"Bill Gates"},{id:2,answer:"Steve Jobs"},{id:3,answer:"Mark Zuckerberg"}].sort(()=>Math.random()-.5),rightAnswer:1},{id:35,question:"Quel est le plus grand océan du monde ?",answers:[{id:1,answer:"l'océan Pacifique"},{id:2,answer:"l'océan Atlantique"},{id:3,answer:"l'océan Indien"}].sort(()=>Math.random()-.5),rightAnswer:1},{id:36,question:"Qui a écrit 'Les Trois Mousquetaires' ?",answers:[{id:1,answer:"Alexandre Dumas"},{id:2,answer:"Victor Hugo"},{id:3,answer:"Gustave Flaubert"}].sort(()=>Math.random()-.5),rightAnswer:1},{id:37,question:"Quelle est la première lettre de l'alphabet grec ?",answers:[{id:1,answer:"Alpha"},{id:2,answer:"Beta"},{id:3,answer:"Gamma"}].sort(()=>Math.random()-.5),rightAnswer:1},{id:38,question:"Quelle est la capitale de l'Allemagne ?",answers:[{id:1,answer:"Berlin"},{id:2,answer:"Munich"},{id:3,answer:"Francfort"}].sort(()=>Math.random()-.5),rightAnswer:1},{id:39,question:"Qui a écrit 'Le Petit Prince' ?",answers:[{id:1,answer:"Antoine de Saint-Exupéry"},{id:2,answer:"Jules Verne"},{id:3,answer:"Victor Hugo"}].sort(()=>Math.random()-.5),rightAnswer:1},{id:40,question:"Quelle est la devise des États-Unis ?",answers:[{id:1,answer:"In God We Trust"},{id:2,answer:"E Pluribus Unum"},{id:3,answer:"Liberté, Égalité, Fraternité"}].sort(()=>Math.random()-.5),rightAnswer:1},{id:41,question:"Quel est le plus grand désert chaud du monde ?",answers:[{id:1,answer:"le Sahara"},{id:2,answer:"le désert de Gobi"},{id:3,answer:"le désert de Kalahari"}].sort(()=>Math.random()-.5),rightAnswer:1},{id:42,question:"Qui a inventé le téléphone ?",answers:[{id:1,answer:"Alexander Graham Bell"},{id:2,answer:"Thomas Edison"},{id:3,answer:"Nikola Tesla"}].sort(()=>Math.random()-.5),rightAnswer:1},{id:43,question:"Quelle est la monnaie du Royaume-Uni ?",answers:[{id:1,answer:"livre sterling"},{id:2,answer:"euro"},{id:3,answer:"dollar"}].sort(()=>Math.random()-.5),rightAnswer:1},{id:44,question:"Qui a peint 'La Cène' ?",answers:[{id:1,answer:"Leonardo da Vinci"},{id:2,answer:"Michel-Ange"},{id:3,answer:"Raphaël"}].sort(()=>Math.random()-.5),rightAnswer:1},{id:45,question:"Quel est le plus grand parc national du monde ?",answers:[{id:1,answer:"le parc national du Nord-Est du Groenland"},{id:2,answer:"le parc national de Yellowstone"},{id:3,answer:"le parc national de Banff"}].sort(()=>Math.random()-.5),rightAnswer:1},{id:46,question:"Quel est le plus grand fleuve d'Europe ?",answers:[{id:1,answer:"la Volga"},{id:2,answer:"le Danube"},{id:3,answer:"la Tamise"}].sort(()=>Math.random()-.5),rightAnswer:1},{id:47,question:"Qui a peint 'La Nuit étoilée' ?",answers:[{id:1,answer:"Vincent van Gogh"},{id:2,answer:"Pablo Picasso"},{id:3,answer:"Leonardo da Vinci"}].sort(()=>Math.random()-.5),rightAnswer:1},{id:48,question:"Quelle est la capitale de l'Australie ?",answers:[{id:1,answer:"Canberra"},{id:2,answer:"Sydney"},{id:3,answer:"Melbourne"}].sort(()=>Math.random()-.5),rightAnswer:1},{id:49,question:"Quel est le plus grand mammifère terrestre ?",answers:[{id:1,answer:"l'éléphant d'Afrique"},{id:2,answer:"le rhinocéros blanc"},{id:3,answer:"l'hippopotame"}].sort(()=>Math.random()-.5),rightAnswer:1},{id:50,question:"Quelle est la plus haute montagne du monde ?",answers:[{id:1,answer:"le Mont Everest"},{id:2,answer:"le K2"},{id:3,answer:"le Mont Kilimandjaro"}].sort(()=>Math.random()-.5),rightAnswer:1}];var i=(e=>(e.GAME_START_COUNTDOWN="game:start_countdown",e.GAME_START_COUNTDOWN_END="game:start_countdown_end",e.GAME_END="game:end",e.GAME_RESTART="game:restart",e.SHOW_QUIZ="quiz:enter",e.WRONG_ANSWER="quiz:wrong_answer",e.RIGHT_ANSWER="quiz:right_answer",e))(i||{});const l={quizTime:WA.sound.loadSound("/sound/quiz_time.ogg"),sus:WA.sound.loadSound("/sound/sus.mp3")},o=[];function u(){WA.event.on("game:start_countdown").subscribe(async()=>{WA.controls.disablePlayerControls(),await w()}),WA.event.on("game:start_countdown_end").subscribe(()=>{WA.controls.restorePlayerControls(),c()}),WA.event.on("game:end").subscribe(e=>{let n=e.data;WA.controls.disablePlayerControls(),h(n.concernedPlayerName,n.concernedPlayerId),m(n.concernedPlayerId),WA.event.broadcast("game:restart",{}).then()}),WA.event.on("quiz:enter").subscribe(async e=>{l.quizTime.play({});let n=e.data;n.concernedPlayer===WA.player.playerId&&(WA.controls.disablePlayerControls(),await p(n.obstacle))}),WA.event.on("game:restart").subscribe(async()=>{await new Promise(e=>setTimeout(e,5e3)),WA.ui.banner.closeBanner(),console.log("teleporting player"),WA.nav.goToRoom("../maps/mapStart.tmj")}),WA.event.on("quiz:right_answer").subscribe(async e=>{if(e.data.concernedPlayer!==WA.player.playerId)return;WA.sound.loadSound("/sound/right_answer.wav").play({});const r=o.pop();r&&r.close();const s=await WA.player.getPosition();await WA.player.teleport(s.x,s.y-150),WA.controls.restorePlayerControls()}),WA.event.on("quiz:wrong_answer").subscribe(e=>{if(e.data.concernedPlayer!==WA.player.playerId)return;WA.sound.loadSound("/sound/wrong_answer.wav").play({}),WA.sound.loadSound("/sound/wrong_answer.wav").play({})})}const w=async()=>{WA.sound.loadSound("/sound/countdown.wav").play({});for(let n=3;n>0;n--)WA.ui.banner.openBanner({id:"banner-countdown",text:n.toString(),bgColor:"#deff89",textColor:"#8c7b75",closable:!1,timeToClose:1e3}),await new Promise(a=>setTimeout(a,1e3));WA.ui.banner.closeBanner(),WA.event.broadcast("game:start_countdown_end",{}).then()},c=()=>{WA.sound.loadSound("/sound/countdown_end.wav").play({}),WA.ui.banner.openBanner({id:"banner-countdown",text:"Partez!!!",bgColor:"#deff89",textColor:"#8c7b75",closable:!1,timeToClose:3e3})},h=(e,n)=>{if(n!==WA.player.playerId)return;WA.sound.loadSound("/sound/victory.wav").play({}),WA.ui.banner.openBanner({id:"banner-test",text:`${e} winnnnnn !!!!!`,bgColor:"#deff89",textColor:"#8c7b75",closable:!1,timeToClose:12e4})},m=e=>{if(e==WA.player.playerId)return;WA.sound.loadSound("/sound/booing_effect.wav").play({loop:!1}),WA.ui.banner.openBanner({id:"banner-test",text:"LOO00000000000000000000000SER !!!!!",bgColor:"#de0a11",textColor:"#ffffff",closable:!1,timeToClose:12e4})},p=async e=>{const n=t[Math.floor(Math.random()*t.length)];let a=WA.ui.openPopup(`${e}popup`,n.question,n.answers.map(r=>({label:r.answer,className:"primary",callback:s=>{r.id===n.rightAnswer?(WA.event.broadcast("quiz:right_answer",{concernedPlayer:WA.player.playerId,questionId:n.id}).then(),s.close()):WA.event.broadcast("quiz:wrong_answer",{concernedPlayer:WA.player.playerId,questionId:n.id}).then()}})));o.push(a)};function A(){for(let e=1;e<=5;e++)WA.room.area.onEnter("obstacle"+e).subscribe(()=>{g("obstacle"+e)});WA.room.area.onEnter("end").subscribe(()=>{y()})}function g(e){WA.event.broadcast(i.SHOW_QUIZ,{concernedPlayer:WA.player.playerId,obstacle:e}).then()}function y(){WA.event.broadcast(i.GAME_END,{concernedPlayerId:WA.player.playerId,concernedPlayerName:WA.player.name}).then()}console.log("Script started successfully");WA.onInit().then(async()=>{console.log("Scripting API ready"),console.log("Player tags: ",WA.player.tags),console.log("Player id: ",WA.player.playerId),A(),u(),await b(),d().then(()=>{console.log("Scripting API Extra ready")}).catch(e=>console.error(e))}).catch(e=>console.error(e));async function b(){await WA.event.broadcast(i.GAME_START_COUNTDOWN,{})}
